{% extends 'base.html.twig' %}

{% block title %}Hello AuthorController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    th, td {
  border: 1px solid #bfc3c8;
}

table {
  border-spacing: 0;
  border-collapse: separate;
  border-radius: 5px;
  border: 1px solid black;
}

table tr {
  will-change: color;
}

table td, table th {
  padding: 5px;
}

table th {
  min-width: 100px;
}

table td {
  background: inherit;
}

table tr td{
  transition: all 1s;
}

table:has(:hover) tr td{
  // background: blue;
  filter: blur(1px);
  color:gray;
  // transition: color 1s;
}

table tr:hover td{
  background: white;
  filter: blur(0px);
  color:black;
}

body {
  background: #eff4f9;
}

.no-has-support {
 color: red; 
}

body:has(table) .no-has-support{
  display: none;
}

table tr:first-of-type {
  color: black;
  background: #f7cc7a;
  text-align:left;
}
</style>

<div class="example-wrapper">
  {% block content %}
    <h1>Détails de l'auteur</h1>
    {% if author %}
     
        <div> 
            <p>Nom : {{ author.username }}</p>
            <p>Email : {{ author.email }}</p>
            <p>Nombre de livres : {{ author.getNbBooks() == null ? 0 : author.getNbBooks() }}</p>
        </div>
    {% else %}
        <p>Aucun détail d'auteur disponible.</p>
    {% endif %}
    
    <h1>List of Books of : {{author.username}} </h1>
    {% if authorBooks %}
    <table> 
  <tr> 
    <th>Title</th>
    <th>Publication Date</th>
    <th>Published</th>
    <th>Category</th> 
  </tr> 
{% for book in authorBooks %}  
<tr> 
   <td>{{ book.title }}  </td>
   <td>{{book.publicationDate | date('F j, Y')}} </td> 
   <td>{{book.isPublished ? 'true' : 'false' }} </td> 
   <td>{{book.category}} </td>  
 
 

</tr>
{% endfor %}
{% else %} No Book Found


</table>
{% endif %}
{% endblock %}

</div>
{% endblock %}